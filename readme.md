### mysql

---

1. binlog文件以二进制格式保存所有的修改操作
- binlog有三种格式：
  –基于SQL语句的复制(statement-based replication,SBR)，
  –基于行的复制(row-based replication,RBR)，
  –混合模式复制(mixed-based replication,MBR)。

2. mysql单库：不具备可用性与并发性

3. mysql集群：读写分离集群，数据一致性怎么保证？
- 半同步复制，主库发生增删改操作时从库复制操作并且通知主库。保证了数据的一致性，缺点是速度会慢。--通过binlog实现
- 数据库中间件，写操作在主库，读操作在从库。预留同步时间。
- 缓存记录写key
数据库读写分离保证数据一致性的两种思路，一是由从库同步完成后发送成功消息，二是通过cache或者中间件来判定从库有没有完成同步


### hashmap

---
jdk1.8之后hashmap引入红黑树设计，变成数组加链表加红黑树，链表长度达到8之后转为红黑树，负载因子是0.75，红黑树是一棵弱平衡的树，时间复杂度为O(logn)

1、每个节点要么是红色，要么是黑色，但根节点永远是黑色的；

2、每个红色节点的两个子节点一定都是黑色；

3、红色节点不能连续（也即是，红色节点的孩子和父亲都不能是红色）；

4、从任一节点到其子树中每个叶子节点的路径都包含相同数量的黑色节点；

5、所有的叶节点都是是黑色的（注意这里说叶子节点其实是上图中的 NIL 节点）；
